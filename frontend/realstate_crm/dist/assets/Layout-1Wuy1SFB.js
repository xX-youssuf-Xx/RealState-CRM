import{u as P,r as g,a as z,b as $,j as t,N as D,R as _,O as F}from"./index-BVlH6NZv.js";import{c as v,X as A}from"./x-ByRfET2r.js";import{C}from"./calendar-DLZk5Fkw.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],V=v("briefcase",H);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],T=v("building-2",W);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],U=v("chevron-down",q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Y=v("chevron-right",R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],B=v("house",G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],X=v("log-out",K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],J=v("menu",Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],O=v("users",Q),ee="_navbar_wfzvc_1",te="_container_wfzvc_21",ne="_logoContainer_wfzvc_39",oe="_logo_wfzvc_39",ae="_mobileMenuButton_wfzvc_59",se="_authSection_wfzvc_75",ie="_loginButton_wfzvc_85",re="_userMenu_wfzvc_115",ce="_userButton_wfzvc_123",le="_chevron_wfzvc_155",de="_chevronUp_wfzvc_163",ue="_dropdown_wfzvc_171",he="_logoutButton_wfzvc_197",l={navbar:ee,container:te,logoContainer:ne,logo:oe,mobileMenuButton:ae,authSection:se,loginButton:ie,userMenu:re,userButton:ce,chevron:le,chevronUp:de,dropdown:ue,logoutButton:he},me=({toggleSidebar:e,logo:n="/1logo_no_bg.png"})=>{const{employee:o,logout:a}=P(),[r,d]=g.useState(!1),h=z(),m=$(),u=c=>{c.stopPropagation(),d(!r)},x=c=>{c.preventDefault(),c.stopPropagation();try{a(),d(!1),m("/login")}catch(L){console.error("Logout failed:",L)}},j=c=>{c.preventDefault(),c.stopPropagation(),e()},y=c=>{c.preventDefault(),m("/login")};return t.jsx("nav",{className:l.navbar,children:t.jsxs("div",{className:l.container,children:[t.jsx("div",{className:l.logoContainer,children:t.jsx("img",{src:n,alt:"شعار العقارات",className:l.logo})}),o&&t.jsx("button",{className:`${l.mobileMenuButton} mobileMenuButton`,onClick:j,"aria-label":"القائمة",children:t.jsx(J,{size:24})}),t.jsx("div",{className:l.authSection,children:o?t.jsxs("div",{className:l.userMenu,children:[t.jsxs("button",{className:l.userButton,onClick:u,"aria-expanded":r,children:[t.jsxs("span",{children:["اهلا ",o.name]}),t.jsx(U,{className:`${l.chevron} ${r?l.chevronUp:""}`,size:18})]}),r&&t.jsx("div",{className:l.dropdown,onClick:c=>c.stopPropagation(),children:t.jsx("button",{onClick:x,className:l.logoutButton,children:"تسجيل الخروج"})})]}):h.pathname!=="/login"&&t.jsx("button",{onClick:y,className:l.loginButton,children:"تسجيل الدخول"})})]})})},ve="_sidebar_39w5i_3",_e="_expanded_39w5i_25",pe="_hidden_39w5i_33",be="_nav_39w5i_41",fe="_navList_39w5i_49",ge="_navItem_39w5i_61",xe="_navLink_39w5i_69",je="_navLinkActive_39w5i_101",ye="_icon_39w5i_119",Ne="_label_39w5i_135",we="_overlay_39w5i_155",ke="_mobileSidebar_39w5i_175",Le="_open_39w5i_203",ze="_mobileHeader_39w5i_211",Ce="_closeButton_39w5i_225",Be="_userInfo_39w5i_245",Oe="_mobileNav_39w5i_259",Ie="_mobileNavList_39w5i_271",Me="_mobileNavItem_39w5i_283",Pe="_mobileNavLink_39w5i_291",$e="_mobileNavLinkActive_39w5i_317",Se="_mobileIcon_39w5i_327",Ee="_mobileLabel_39w5i_341",De="_chevron_39w5i_349",Fe="_mobileFooter_39w5i_359",Ae="_logoutButton_39w5i_373",He="_loginButton_39w5i_375",s={sidebar:ve,expanded:_e,hidden:pe,nav:be,navList:fe,navItem:ge,navLink:xe,navLinkActive:je,icon:ye,label:Ne,overlay:we,mobileSidebar:ke,open:Le,mobileHeader:ze,closeButton:Ce,userInfo:Be,mobileNav:Oe,mobileNavList:Ie,mobileNavItem:Me,mobileNavLink:Pe,mobileNavLinkActive:$e,mobileIcon:Se,mobileLabel:Ee,chevron:De,mobileFooter:Fe,logoutButton:Ae,loginButton:He},Ve=({isMobileSidebarOpen:e,closeMobileSidebar:n})=>{const{employee:o,logout:a}=P(),r=z(),d=$(),[h,m]=g.useState(!1),x=(o==null?void 0:o.role)==="ADMIN"?[{path:"/dashboard",label:"الرئيسية",icon:t.jsx(B,{size:20})},{path:"/upcoming",label:"المواعيد",icon:t.jsx(C,{size:20})},{path:"/leads",label:"العملاء",icon:t.jsx(O,{size:20})},{path:"/employees",label:"الموظفين",icon:t.jsx(V,{size:20})},{path:"/projects",label:"المشاريع",icon:t.jsx(T,{size:20})}]:[{path:"/dashboard",label:"الرئيسية",icon:t.jsx(B,{size:20})},{path:"/upcoming",label:"المواعيد",icon:t.jsx(C,{size:20})},{path:"/leads",label:"العملاء",icon:t.jsx(O,{size:20})}],j=r.pathname==="/login",y=(i,p)=>{p.preventDefault(),p.stopPropagation(),d(i),e&&n()},c=i=>{i.stopPropagation(),a(),n()};if(g.useEffect(()=>{n()},[r.pathname]),j&&!e)return null;const L=i=>{i.stopPropagation()};return t.jsxs(t.Fragment,{children:[t.jsx("aside",{className:`${s.sidebar} ${h?s.expanded:""} ${j?s.hidden:""}`,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:t.jsx("nav",{className:s.nav,children:t.jsx("ul",{className:s.navList,children:x.map(i=>t.jsx("li",{className:s.navItem,children:t.jsxs(D,{to:i.path,className:({isActive:p})=>`${s.navLink} ${p?s.navLinkActive:""}`,children:[t.jsx("span",{className:s.icon,children:i.icon}),t.jsx("span",{className:s.label,children:i.label})]})},i.path))})})}),e&&t.jsx("div",{className:s.overlay,onClick:i=>{i.stopPropagation(),n()}}),t.jsxs("aside",{className:`${s.mobileSidebar} ${e?s.open:""}`,onClick:L,children:[t.jsxs("div",{className:s.mobileHeader,children:[t.jsx("button",{className:s.closeButton,onClick:i=>{i.stopPropagation(),n()},children:t.jsx(A,{size:24})}),o&&t.jsx("div",{className:s.userInfo,children:t.jsxs("span",{children:["اهلا ",o.name]})})]}),t.jsx("nav",{className:s.mobileNav,children:t.jsx("ul",{className:s.mobileNavList,children:x.map(i=>t.jsx("li",{className:s.mobileNavItem,children:t.jsxs("div",{className:`${s.mobileNavLink} ${r.pathname===i.path?s.mobileNavLinkActive:""}`,onClick:p=>y(i.path,p),children:[t.jsx("span",{className:s.mobileIcon,children:i.icon}),t.jsx("span",{className:s.mobileLabel,children:i.label}),t.jsx(Y,{size:16,className:s.chevron})]})},i.path))})}),t.jsx("div",{className:s.mobileFooter,children:o?t.jsxs("button",{className:s.logoutButton,onClick:c,children:[t.jsx(X,{size:20}),t.jsx("span",{children:"تسجيل الخروج"})]}):t.jsx("div",{className:s.loginButton,onClick:i=>y("/login",i),children:t.jsx("span",{children:"تسجيل الدخول"})})})]})]})};var S={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},I=_.createContext&&_.createContext(S),We=["attr","size","title"];function Te(e,n){if(e==null)return{};var o=qe(e,n),a,r;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(r=0;r<d.length;r++)a=d[r],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function qe(e,n){if(e==null)return{};var o={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;o[a]=e[a]}return o}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},N.apply(this,arguments)}function M(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,a)}return o}function w(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?M(Object(o),!0).forEach(function(a){Ue(e,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):M(Object(o)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))})}return e}function Ue(e,n,o){return n=Re(n),n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function Re(e){var n=Ye(e,"string");return typeof n=="symbol"?n:n+""}function Ye(e,n){if(typeof e!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var a=o.call(e,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function E(e){return e&&e.map((n,o)=>_.createElement(n.tag,w({key:o},n.attr),E(n.child)))}function k(e){return n=>_.createElement(Ge,N({attr:w({},e.attr)},n),E(e.child))}function Ge(e){var n=o=>{var{attr:a,size:r,title:d}=e,h=Te(e,We),m=r||o.size||"1em",u;return o.className&&(u=o.className),e.className&&(u=(u?u+" ":"")+e.className),_.createElement("svg",N({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,a,h,{className:u,style:w(w({color:e.color||o.color},o.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),d&&_.createElement("title",null,d),e.children)};return I!==void 0?_.createElement(I.Consumer,null,o=>n(o)):n(S)}function Ke(e){return k({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function Xe(e){return k({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function Ze(e){return k({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(e)}function Je(e){return k({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}const Qe="_footer_1jsvp_3",et="_footerContainer_1jsvp_25",tt="_copyright_1jsvp_47",nt="_developerCredit_1jsvp_63",ot="_socialIcons_1jsvp_99",b={footer:Qe,footerContainer:et,copyright:tt,developerCredit:nt,socialIcons:ot},at=()=>{const e=new Date().getFullYear();return t.jsx("footer",{className:b.footer,children:t.jsxs("div",{className:b.footerContainer,children:[t.jsxs("div",{className:b.copyright,children:["عمار للعقارات  © ",e," - جميع الحقوق محفوظة"]}),t.jsxs("div",{className:b.developerCredit,children:["تم تصميم وتطوير هذه المنصة بواسطة"," ",t.jsx("a",{href:"https://egypt-tech.com",target:"_blank",rel:"noopener noreferrer",children:"Egypt-Tech"})]}),t.jsxs("div",{className:b.socialIcons,children:[t.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:t.jsx(Ke,{})}),t.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:t.jsx(Je,{})}),t.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:t.jsx(Ze,{})}),t.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:t.jsx(Xe,{})})]})]})})},st="_layout_1snrk_1",it="_mainWrapper_1snrk_13",rt="_content_1snrk_25",ct="_fullWidth_1snrk_45",f={layout:st,mainWrapper:it,content:rt,fullWidth:ct},ht=()=>{const[e,n]=g.useState(!1),a=z().pathname==="/login";g.useEffect(()=>{const h=m=>{if(!e)return;const u=m.target;u.closest(".mobileMenuButton")||u.closest(`.${f.mobileSidebar}`)||u.closest(".sidebar")||n(!1)};return e&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[e]);const r=()=>{n(h=>!h)},d=()=>{n(!1)};return t.jsxs("div",{className:f.layout,dir:"rtl",children:[t.jsx(me,{toggleSidebar:r}),t.jsxs("div",{className:f.mainWrapper,children:[t.jsx(Ve,{isMobileSidebarOpen:e,closeMobileSidebar:d}),t.jsx("main",{className:`${f.content} ${a?f.fullWidth:""}`,children:t.jsx(F,{})})]}),t.jsx(at,{})]})};export{ht as default};
