import{r as a,u as j,b as f,a as N,j as s,L as v}from"./index-BVlH6NZv.js";const C="_loginPage_b67wd_1",y="_loginCard_b67wd_21",L="_logoContainer_b67wd_39",P="_logo_b67wd_39",E="_title_b67wd_61",G="_form_b67wd_75",S="_formGroup_b67wd_87",B="_label_b67wd_99",q="_input_b67wd_109",F="_submitButton_b67wd_135",A="_error_b67wd_177",o={loginPage:C,loginCard:y,logoContainer:L,logo:P,title:E,form:G,formGroup:S,label:B,input:q,submitButton:F,error:A},V=()=>{var u,m;const[r,g]=a.useState(""),[n,b]=a.useState(""),[_,l]=a.useState(null),{login:p,isLoading:i,error:c}=j(),h=f(),x=((m=(u=N().state)==null?void 0:u.from)==null?void 0:m.pathname)||"/dashboard",w=async e=>{e.preventDefault(),l(null);try{await p(r,n),h(x,{replace:!0})}catch(t){console.error("Login failed:",t),l((t==null?void 0:t.message)||"حدث خطأ أثناء تسجيل الدخول")}},d=_||(c?c.message:null);return s.jsxs("div",{className:o.loginPage,children:[s.jsx(v,{isVisible:i}),s.jsxs("div",{className:o.loginCard,children:[s.jsx("div",{className:o.logoContainer,children:s.jsx("img",{src:"/1logo_no_bg.png?height=80&width=200",alt:"شعار العقارات",className:o.logo})}),s.jsx("h1",{className:o.title,children:"تسجيل الدخول"}),s.jsxs("form",{onSubmit:w,className:o.form,children:[d&&s.jsx("div",{className:o.error,children:d}),s.jsxs("div",{className:o.formGroup,children:[s.jsx("label",{htmlFor:"number",className:o.label,children:"رقم الهاتف"}),s.jsx("input",{id:"number",type:"text",value:r,onChange:e=>g(e.target.value),className:o.input,placeholder:"أدخل رقم الهاتف",required:!0})]}),s.jsxs("div",{className:o.formGroup,children:[s.jsx("label",{htmlFor:"password",className:o.label,children:"كلمة المرور"}),s.jsx("input",{id:"password",type:"password",value:n,onChange:e=>b(e.target.value),className:o.input,placeholder:"أدخل كلمة المرور",required:!0})]}),s.jsx("button",{type:"submit",className:o.submitButton,disabled:i,children:"تسجيل الدخول"})]})]})]})};export{V as default};
